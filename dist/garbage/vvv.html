<!DOCTYPE html>
<html>
  <head>
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <title>VVVGY</title>
  </head>
  <body>
    <div id ="AA">搖我呀</div>
  </body>
  <script type="text/javascript">
    var x=document.getElementById("AA");
//listen
if (window.DeviceMotionEvent) {
  window.addEventListener('devicemotion',deviceMotionHandler,false);
}

var SHAKE_THRESHOLD = 4000;
var last_update = 0;
var x, y, z, last_x = 0, last_y = 0, last_z = 0;
function deviceMotionHandler(eventData) {
  var acceleration =eventData.accelerationIncludingGravity;
  var curTime = new Date().getTime();
  if ((curTime-last_update)> 10) {
    var diffTime = curTime -last_update;
    last_update = curTime;
    x = acceleration.x;
    y = acceleration.y;
    z = acceleration.z;
    var speed = Math.abs(x +y + z - last_x - last_y - last_z) / diffTime * 10000;
    if (speed > SHAKE_THRESHOLD) {
      alertion();  // Do something
    }
    last_x = x;
    last_y = y;
    last_z = z;
  }
}
function alertion(){
  alert("晃爽沒");

}
</script>
</html>
